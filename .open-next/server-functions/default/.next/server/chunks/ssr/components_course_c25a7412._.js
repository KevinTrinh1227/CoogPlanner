module.exports=[63752,a=>{"use strict";var b=a.i(87924);function c({icon:a,label:c,value:d,valueNode:e,tone:f="neutral",className:g}){return(0,b.jsxs)("div",{className:`inline-flex items-center gap-1 rounded-md border border-slate-800 bg-slate-900 px-1.5 py-0.5 text-[10px] md:text-[11px] transition-colors transition-transform hover:border-slate-600 hover:bg-slate-900/90 hover:scale-[1.01] ${g??""}`,children:[a&&(0,b.jsx)("span",{"aria-hidden":!0,children:a}),(0,b.jsxs)("span",{className:"font-semibold text-slate-200",children:[c,":"]}),(0,b.jsx)("span",{className:`inline-flex items-center gap-0.5 font-semibold ${"good"===f?"text-emerald-300":"warning"===f?"text-amber-300":"bad"===f?"text-red-300":"info"===f?"text-sky-300":"text-slate-200"}`,children:e??d})]})}let d=({className:a})=>(0,b.jsx)("svg",{className:a,viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,b.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.955a1 1 0 00.95.69h4.162c.969 0 1.371 1.24.588 1.81l-3.37 2.449a1 1 0 00-.364 1.118l1.287 3.955c.3.921-.755 1.688-1.54 1.118l-3.37-2.449a1 1 0 00-1.175 0l-3.37 2.449c-.785.57-1.84-.197-1.54-1.118l1.287-3.955a1 1 0 00-.364-1.118L2.06 9.382c-.783-.57-.38-1.81.588-1.81h4.162a1 1 0 00.95-.69l1.286-3.955z"})});function e({instructor:a}){let e,f,g=null==(e=a.avgGpaNumeric)?null:{value:e.toFixed(2),tone:e>=3?"good":e>=2.75?"warning":"bad"},h=null==(f=a.dropRateNumeric)?null:{value:`${f.toFixed(2)}%`,tone:f<=10?"good":f<=20?"warning":"bad"},i=(a.rating??4.95).toFixed(2);return g||h||i||a?(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 text-[10px] md:text-[11px]",children:[g&&(0,b.jsx)(c,{label:"GPA",value:g.value,tone:g.tone}),h&&(0,b.jsx)(c,{label:"Drop Rate",value:h.value,tone:h.tone}),(0,b.jsx)(c,{label:"RMP",value:i,valueNode:(0,b.jsxs)(b.Fragment,{children:[i,(0,b.jsx)(d,{className:"h-3 w-3"})]}),tone:"info"}),(0,b.jsx)(c,{label:"Difficulty",value:"Moderate",tone:"warning"})]}):null}function f(a){if(!a)return"";let b=a.trim();if(!b)return"";if(b.includes(","))return b.split(",")[0]?.trim().toLowerCase()??"";let c=b.split(/\s+/);return(c[c.length-1]||"").toLowerCase()}function g({displayCode:a,instructorPages:c,totalInstructors:d,totalSections:g,onInstructorClick:h}){let i=c.flat(),j=i.length,k=[...i].sort((a,b)=>{let c=f(a.name),d=f(b.name);if(c&&d){let a=c.localeCompare(d,void 0,{sensitivity:"base"});if(0!==a)return a}return a.name.localeCompare(b.name,void 0,{sensitivity:"base"})});return(0,b.jsxs)("section",{id:"instructors",className:"rounded-2xl border border-slate-800 bg-slate-950/80 p-4 md:p-6",children:[(0,b.jsxs)("div",{className:"mb-3 flex flex-col gap-1 md:flex-row md:items-end md:justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("h2",{className:"text-base font-semibold tracking-tight text-slate-50 md:text-lg",children:["Instructors For ",a]})}),(0,b.jsxs)("p",{className:"text-[11px] text-slate-400 md:text-xs md:text-right md:max-w-xs",children:["A total of ",d.toLocaleString()," instructor(s) taught"," ",g.toLocaleString()," sections for this course."]})]}),0===j?(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"No instructors found for this course yet."}):(0,b.jsx)("div",{className:"mt-2 max-h-80 overflow-y-auto pr-1 custom-scrollbar",children:(0,b.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:k.map((a,c)=>{let d=a.id??a.slug??`${a.name}-${c}`,f=a.courseCount??1,g=a.sectionCount??null,i=a.totalStudents??null,j=f.toLocaleString(),k=null!=g?g.toLocaleString():"â€“",l=null!=i?i.toLocaleString():"â€“";return(0,b.jsxs)("button",{type:"button",onClick:h?()=>h(a):void 0,className:"group flex w-full flex-col rounded-xl border border-slate-800 bg-slate-900/70 px-4 py-3 text-left transition-transform transition-colors hover:-translate-y-0.5 hover:border-slate-500 hover:bg-slate-900/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500/70",children:[(0,b.jsx)("p",{className:"text-[13px] font-semibold text-slate-50 md:text-sm",children:function(a){if(!a)return a;let b=a.trim();if(!b)return a;if(b.includes(","))return b;let c=b.split(/\s+/);if(c.length<2)return b;let d=c[c.length-1],e=c.slice(0,c.length-1).join(" ");return`${d}, ${e}`}(a.name)}),a.department&&(0,b.jsx)("p",{className:"mt-0.5 text-[11px] font-medium text-slate-300",children:a.department}),(0,b.jsxs)("p",{className:"mt-0.5 text-[11px] text-slate-400",children:[j," Courses Â· ",k," ","Sections"," Â· ",l," Students Enrolled"]}),(0,b.jsx)("div",{className:"mt-1.5",children:(0,b.jsx)(e,{instructor:a})})]},d)})})})]})}a.s(["default",()=>g],63752)},99748,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d={Winter:0,Spring:1,Summer:2,Fall:3};function e(a){let[b,c]=a.split(" ");return{year:parseInt(c??"0",10)||0,seasonIdx:d[b]??4}}function f(a,b){let c=e(a.term),d=e(b.term);return c.year!==d.year?d.year-c.year:c.seasonIdx!==d.seasonIdx?d.seasonIdx-c.seasonIdx:(a.section??"").localeCompare(b.section??"")}function g(a){let b=(a||"").trim();if(!b||"unknown"===b.toLowerCase())return"Unknown";if(b.includes(","))return b;let c=b.split(/\s+/);if(1===c.length)return b;let d=c[c.length-1],e=c.slice(0,-1).join(" ");return`${d}, ${e}`}function h({displayCode:a,pastSections:d,totalSections:e,termRange:h}){let[i,j]=(0,c.useState)("term"),[k,l]=(0,c.useState)("desc"),m=(0,c.useMemo)(()=>{let a=[...d];return a.sort((a,b)=>{switch(i){case"term":return"desc"===k?f(a,b):f(b,a);case"instructor":{let c=g(a.instructor),d=g(b.instructor);return"desc"===k?d.localeCompare(c):c.localeCompare(d)}case"section":{let c=(a.section??"").toString(),d=(b.section??"").toString();return"desc"===k?d.localeCompare(c):c.localeCompare(d)}case"enrolled":{let c=a.enrolled??0,d=b.enrolled??0;return"desc"===k?d-c:c-d}case"gpa":{let c=a.gpa??0,d=b.gpa??0;if(c===d)return 0;return"desc"===k?d-c:c-d}case"A":case"B":case"C":case"D":case"F":case"W":case"S":case"NR":{let c=a.letters?.[i]??0,d=b.letters?.[i]??0;return"desc"===k?d-c:c-d}default:return 0}}),a},[d,i,k]),n=m.length,o=[25,50,100].filter(a=>n>=a),p=[...o,...n>0?["ALL"]:[]],q=o[0]||"ALL",[r,s]=(0,c.useState)(q),t="ALL"===r?n:Math.min(n,r),u=m.slice(0,t),v=a=>null==a?0:a,w=a=>{i===a?l(a=>"asc"===a?"desc":"asc"):(j(a),l("desc"))},x=(a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1",children:[a,i===c&&(0,b.jsx)("span",{"aria-hidden":!0,children:"asc"===k?"â†‘":"â†“"})]});return(0,b.jsxs)("section",{className:"rounded-2xl border border-slate-800 bg-slate-950/80 p-4 md:p-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("h2",{className:"text-base font-semibold tracking-tight text-slate-50 md:text-lg",children:"Past Sections & Letter Outcomes"}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 md:text-sm",children:[e.toLocaleString()," past section",1===e?"":"s"," for ",a,h&&(0,b.jsxs)(b.Fragment,{children:[" ","from ",h.earliest," to ",h.latest]}),"."]})]}),0===m.length?(0,b.jsx)("p",{className:"mt-3 text-xs text-slate-400 md:text-sm",children:"We don't have any historical sections for this course yet. As more grade history is imported, you'll see section-by-section outcomes here."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full whitespace-nowrap text-xs text-slate-200 md:text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-800 bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400 md:text-sm",children:[(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("term"),children:x("Term","term")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("instructor"),children:x("Instructor","instructor")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("section"),children:x("Section","section")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("enrolled"),children:x("Enrolled","enrolled")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("A"),children:x("A","A")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("B"),children:x("B","B")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("C"),children:x("C","C")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("D"),children:x("D","D")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("F"),children:x("F","F")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("W"),children:x("W","W")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("S"),children:x("S","S")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("NR"),children:x("NR","NR")}),(0,b.jsx)("th",{className:"px-2 py-2 text-left cursor-pointer select-none",onClick:()=>w("gpa"),children:x("GPA","gpa")})]})}),(0,b.jsx)("tbody",{children:u.map((a,c)=>{let d,e=a.letters;return(0,b.jsxs)("tr",{className:"border-b border-slate-900/80 last:border-0 hover:bg-slate-900/40",children:[(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:a.term}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:g(a.instructor)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:a.section||"-"}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:null==(d=a.enrolled)?"-":d.toLocaleString()}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.A)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.B)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.C)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.D)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.F)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.W)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.S)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:v(e?.NR)}),(0,b.jsx)("td",{className:"px-2 py-2 text-left",children:null==a.gpa?"-":a.gpa.toFixed(2)})]},`${a.term}-${a.instructor}-${a.section}-${c}`)})})]})}),n>0&&(0,b.jsxs)("div",{className:"mt-4 flex flex-col items-center gap-3 text-xs text-slate-300 md:flex-row md:justify-between md:text-sm",children:[(0,b.jsxs)("p",{className:"text-center md:text-left",children:["Showing"," ",(0,b.jsx)("span",{className:"font-semibold text-slate-100",children:u.length})," ","of"," ",(0,b.jsx)("span",{className:"font-semibold text-slate-100",children:n})," ","past sections"]}),p.length>1&&(0,b.jsxs)("div",{className:"flex w-full flex-col items-stretch gap-1 sm:w-auto sm:flex-row sm:items-center sm:gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-slate-300 md:text-sm",children:"Sections per view:"}),(0,b.jsx)("select",{value:"ALL"===r?"ALL":String(r),onChange:a=>{let b=a.target.value;if("ALL"===b)s("ALL");else{let a=Number(b);s(Number.isNaN(a)?q:a)}},className:"w-full rounded-xl border border-slate-700 bg-slate-900 px-3 py-2.5 md:py-2 text-xs font-medium text-slate-100 shadow-sm outline-none ring-0 transition-colors hover:border-slate-500 focus:border-rose-400 md:text-sm sm:w-auto",children:p.map(a=>"ALL"===a?(0,b.jsxs)("option",{value:"ALL",children:["All (",n,")"]},"ALL"):(0,b.jsxs)("option",{value:a,children:[a," sections"]},a))})]})]})]})]})}a.s(["default",()=>h])},42315,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(36242);function f({displayCode:a,courseTitle:f}){let g,h,i,j,{openModal:k}=(h=(0,d.useRouter)(),i=(0,d.usePathname)(),j=(0,d.useSearchParams)(),{openModal:(0,c.useCallback)((a,b)=>{let c=new URLSearchParams(j.toString());if(c.set("modal",a),b)for(let[a,d]of Object.entries(b))c.set(a,String(d));let d=c.toString();h.push(`${i}${d?`?${d}`:""}`,{scroll:!1})},[i,h,j]),closeModal:(0,c.useCallback)(()=>{let a=new URLSearchParams(j.toString());a.delete("modal");let b=a.toString();h.push(`${i}${b?`?${b}`:""}`,{scroll:!1})},[i,h,j])}),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null);return((0,c.useEffect)(()=>{let b=!1;return async function(){o(!0),q(null);try{let c=await fetch(`/api/simple-syllabus?courseCode=${encodeURIComponent(a)}`);if(!c.ok)throw Error(`Failed to load syllabi (${c.status})`);let d=await c.json();if(b)return;let f=d.syllabi??[];(0,e.setSyllabiForCourse)(a,f),m(f.length),o(!1)}catch(a){console.error("Error loading syllabi count",a),b||(q("Unable to load syllabi."),o(!1))}}(),()=>{b=!0}},[a]),n||null===l||!p&&0===l)?null:(g=!p&&l>0?1===l?"1 Syllabus Found":`${l} Syllabi Found`:"Syllabi",(0,b.jsxs)("button",{type:"button",onClick:()=>k("course-syllabi-list",{code:a,title:f}),className:"inline-flex items-center justify-center gap-1.5 rounded-lg border border-slate-700 bg-slate-900/80 px-3.5 py-1.5 text-xs font-medium text-slate-100 transition-colors hover:bg-slate-800 hover:text-slate-50 md:text-sm",children:[(0,b.jsx)("span",{"aria-hidden":!0,children:"ðŸ“„"}),(0,b.jsx)("span",{children:g})]}))}a.s(["default",()=>f],42315)}];

//# sourceMappingURL=components_course_c25a7412._.js.map